load('../data/train.mat');
load('../data/test.mat');
load('../data/indices_header.mat');
addpath(genpath('..'));
filename = 'polykernridgesub.csv';

lambda = 1000;
p = 3;

kern = @( x1, x2 )( (x1 * x2' + 1 )^1 );
ytest = kernridgereg(X,y,X_test, kern, lambda);
res = [indices, ytest];

fid = fopen(filename, 'w');
fprintf(fid, 'Id,y\n');
fclose(fid)
dlmwrite(filename,txt);
dlmwrite(filename,res,'-append');

